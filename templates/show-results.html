{% extends "layout.html" %}
{% block body %}
<script type="text/javascript">
$(document).ready(function(e) {

    // this statement takes the json that was passed from render_template and converts to javascript object.
    // The tojson|safe part is to make sure it escapes correctly.

    var json = {{ data|tojson|safe }};
    console.log(json);



    // now you can use the json object in javascript just like you normally would

     var list = '';
     // loop through the jason and append the name of each top level element to the list
     $.each(json, function(index, element) {
         list += '<li>' + element.name + '</li>';
     });

     $('#repos-info').append(list);

});

</script>

<div class="jumbotron">
      <div class="container">
        <h1>Show Repositories</h1>
        <p> </p>
      </div>
</div>

<div class="container">

     <ul id="repos-info">

    </ul>

</div>


{% endblock %}